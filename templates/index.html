<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <title>R√©servation Buanderie</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/fullcalendar@5.11.3/main.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>

<div class="page-wrapper">
    <header>
        <div id="darkToggle">üåò</div>
        <h1>Hotel Grill</h1>
        <img src="{{ url_for('static', filename='logo.gif') }}" alt="Logo H√¥tel" class="logo">
        <h2>R√©servation Buanderie</h2>
    </header>
</div>

<div class="container">
    <div class="instructions">
        <h3 class="instructions-title">Comment r√©server¬†?</h3>
        <ul>
            <li>1Ô∏è‚É£ Choisissez <strong>chambre</strong>, <strong>date</strong> et <strong>heure</strong>.</li>
            <li>2Ô∏è‚É£ S√©lectionnez la <strong>machine</strong>.</li>
            <li>3Ô∏è‚É£ S√©lectionnez les <strong>tourn√©es</strong>.</li>
            <li>4Ô∏è‚É£ Entrez le <strong>code</strong> puis validez.</li>
        </ul>
    </div>
    <div class="instructions cancel">
        <h3 class="instructions-title">Comment annuler¬†?</h3>
        <ul>
            <li>1Ô∏è‚É£ Cliquez sur la r√©servation dans le calendrier.</li>
            <li>2Ô∏è‚É£ Saisissez votre <strong>code</strong> de r√©servation.</li>
            <li>3Ô∏è‚É£ Confirmez la <strong>suppression</strong>.</li>
            <li>4Ô∏è‚É£ V√©rifiez que la r√©servation a disparu.</li>
        </ul>
    </div>
    <form id="reservation-form">
        <label>Chambre</label>
        <select id="chambre" required></select>

        <label>Date</label>
        <input type="date" id="date" required>

        <label>Heure</label>
        <select id="heure" required></select>

        <label>Machine</label>
        <select id="machine" required>
            <option value="lave-linge">Lave-linge</option>
            <option value="s√®che-linge">S√®che-linge</option>
        </select>

        <label>Nombre de tourn√©es</label>
        <select id="tournees" required>
            <option value="1">1 tourn√©e</option>
            <option value="2">2 tourn√©es</option>
            <option value="3">3 tourn√©es</option>
        </select>

        <label>Code (4 chiffres)</label>
        <input type="text" id="code" pattern="\d{4}" required maxlength="4" inputmode="numeric" class="code-input">

        <button type="submit">R√©server</button>
    </form>
    <div id="error-box" class="error-box"></div>

    <div style="margin-top: 20px; text-align: center;">
        <span style="display: inline-block; width: 20px; height: 20px; background-color: #3498db; border-radius: 3px; margin-right: 5px;"></span> Lave-linge
        &nbsp;&nbsp;&nbsp;
        <span style="display: inline-block; width: 20px; height: 20px; background-color: #e67e22; border-radius: 3px; margin-right: 5px;"></span> S√®che-linge
    </div>

    <div id="calendar"></div>
</div>

<div class="modal" id="delete-modal">
    <div class="modal-content">
        <p>Entrer le code pour supprimer la r√©servation :</p>
        <input type="text" id="delete-code" maxlength="5" inputmode="numeric" />
        <div id="delete-error">‚ùå Code incorrect</div>
        <button onclick="confirmDelete()">Confirmer</button>
        <button onclick="cancelDelete()">Annuler</button>
    </div>
</div>

<div class="modal" id="confirm-modal">
    <div class="modal-content">
        <h3>R√©servation confirm√©e ‚úÖ</h3>
        <div id="receipt-details"></div>
        <a id="receipt-open" href="#" target="_blank" class="receipt-link">Voir le re√ßu</a>
        <a id="receipt-download" href="#" class="receipt-link">T√©l√©charger le re√ßu</a>
        <button onclick="printReceipt()">Imprimer le re√ßu</button>
        <button onclick="closeConfirm()">Fermer</button>
    </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/fullcalendar@5.11.3/main.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fullcalendar@5.11.3/locales/fr.js"></script>
<script src="{{ url_for('static', filename='app.js') }}"></script>

</body>
</html>
